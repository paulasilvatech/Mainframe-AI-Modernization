<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="500" viewBox="0 0 600 500">
  <style>
    .title { font-size: 18px; font-weight: bold; font-family: Arial, sans-serif; }
    .subtitle { font-size: 14px; font-family: Arial, sans-serif; }
    .header { font-size: 15px; font-weight: bold; font-family: Arial, sans-serif; }
    .label { font-size: 13px; font-family: Arial, sans-serif; fill: #333; }
    .small-label { font-size: 12px; font-family: Arial, sans-serif; fill: #333; }
    .phase { font-size: 11px; font-style: italic; font-family: Arial, sans-serif; fill: #666; }
    .azure { fill: #0078D4; }
    .azure-light { fill: #50A0DB; }
    .mainframe { fill: #0050C5; }
    .mainframe-light { fill: #4D81BF; }
    .refactored { fill: #107C10; }
    .refactored-light { fill: #6BBD6B; }
    .integration { fill: #8961AA; }
    .integration-light { fill: #B798CD; }
    .flow { fill: none; stroke: #666; stroke-width: 2; stroke-dasharray: 5,3; }
    .solid-flow { fill: none; stroke: #333; stroke-width: 2; }
    rect { stroke: #333; stroke-width: 1.5; }
    .arrow { fill: #666; }
    .container { fill: #f5f5f5; stroke: #ddd; }
  </style>
  
  <!-- Title -->
  <text x="300" y="35" text-anchor="middle" class="title">Incremental Refactoring Pattern</text>
  <text x="300" y="55" text-anchor="middle" class="subtitle">Gradually modernizing mainframe components while maintaining interoperability</text>
  
  <!-- Phase 1: Initial State -->
  <rect x="70" y="80" width="460" height="100" rx="10" ry="10" class="container" />
  <text x="300" y="100" text-anchor="middle" class="header">Phase 1: Initial Assessment</text>
  
  <rect x="100" y="120" width="400" height="40" rx="5" ry="5" class="mainframe-light" />
  <text x="300" y="145" text-anchor="middle" class="small-label">IBM z/OS Mainframe Applications</text>
  
  <text x="140" y="170" text-anchor="middle" class="phase">Component A</text>
  <text x="220" y="170" text-anchor="middle" class="phase">Component B</text>
  <text x="300" y="170" text-anchor="middle" class="phase">Component C</text>
  <text x="380" y="170" text-anchor="middle" class="phase">Component D</text>
  <text x="460" y="170" text-anchor="middle" class="phase">Component E</text>
  
  <!-- Phase 2: First Components Refactored -->
  <rect x="70" y="190" width="460" height="100" rx="10" ry="10" class="container" />
  <text x="300" y="210" text-anchor="middle" class="header">Phase 2: Initial Refactoring</text>
  
  <rect x="100" y="230" width="80" height="40" rx="5" ry="5" class="refactored-light" />
  <text x="140" y="255" text-anchor="middle" class="small-label">Component A</text>
  
  <rect x="190" y="230" width="310" height="40" rx="5" ry="5" class="mainframe-light" />
  <text x="345" y="255" text-anchor="middle" class="small-label">IBM z/OS Mainframe Applications</text>
  
  <rect x="120" y="280" width="360" height="20" rx="5" ry="5" class="integration-light" opacity="0.8" />
  <text x="300" y="295" text-anchor="middle" class="small-label">Integration Layer (APIs, Event Bus)</text>
  
  <!-- Phase 3: Additional Components Refactored -->
  <rect x="70" y="320" width="460" height="100" rx="10" ry="10" class="container" />
  <text x="300" y="340" text-anchor="middle" class="header">Phase 3: Expanded Refactoring</text>
  
  <rect x="100" y="360" width="240" height="40" rx="5" ry="5" class="refactored-light" />
  <text x="220" y="385" text-anchor="middle" class="small-label">Components A, B, C</text>
  
  <rect x="350" y="360" width="150" height="40" rx="5" ry="5" class="mainframe-light" />
  <text x="425" y="385" text-anchor="middle" class="small-label">Components D, E</text>
  
  <rect x="120" y="410" width="360" height="20" rx="5" ry="5" class="integration-light" opacity="0.8" />
  <text x="300" y="425" text-anchor="middle" class="small-label">Enhanced Integration Layer</text>
  
  <!-- Final State -->
  <rect x="70" y="450" width="460" height="40" rx="10" ry="10" class="azure-light" opacity="0.7" />
  <text x="120" y="475" text-anchor="middle" class="small-label">Azure Functions</text>
  <text x="220" y="475" text-anchor="middle" class="small-label">App Service</text>
  <text x="320" y="475" text-anchor="middle" class="small-label">Azure Kubernetes</text>
  <text x="420" y="475" text-anchor="middle" class="small-label">Event Grid</text>
  
  <!-- Flow Connectors -->
  <path d="M300,160 L300,190" class="solid-flow" />
  <path d="M300,300 L300,320" class="solid-flow" />
  <path d="M300,430 L300,450" class="solid-flow" />
  
  <!-- Side Indicators -->
  <rect x="50" y="170" width="10" height="250" rx="5" ry="5" fill="#E5E7EB" />
  <text x="55" y="295" text-anchor="middle" class="small-label" transform="rotate(-90 55,295)">Incremental Transformation</text>
  
  <rect x="540" y="170" width="10" height="250" rx="5" ry="5" fill="#E5E7EB" />
  <text x="545" y="295" text-anchor="middle" class="small-label" transform="rotate(90 545,295)">Continuous Business Operation</text>
</svg> 